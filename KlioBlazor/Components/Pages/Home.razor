@page "/"
@attribute [StreamRendering]

<PageTitle>Український медійний архів 'KLIO'</PageTitle>

<!-- banner-area -->
<section class="banner-area banner-bg" style="background-image: url('content/movies/1/background.jpg')">
    <div class="container custom-container">
        <div class="row">
            <div class="col-xl-6 col-lg-8">
                <div class="banner-content">
                    <h6 class="sub-title">Історія</h6>
                    <div class="section-title title-style-two">
                        <span class="sub-title">Велич особистості</span>
                    </div>
                    <h2 class="title">Тарас <span>Шевченко</span></h2>
                    <div class="banner-meta">
                        <ul>
                            <li class="quality">
                                <span style="color: lightgreen; border-color: lightgreen;">0+</span>
                            </li>
                            <li class="category">
                                <a href="">Біографічний,</a>
                                <a href="">Телевізійний</a>
                            </li>
                            <li class="release-time">
                                <span><i class="fa-solid fa-calendar-days"></i> 2021</span>
                                <span><i class="fa-solid fa-clock"></i> 28 хв</span>
                            </li>
                        </ul>
                    </div>
                    <a href="" class="banner-btn btn popup-video">
                        <i class="fa-solid fa-play"></i> Вістовик
                    </a>
                </div>
            </div>
        </div>
    </div>
</section>
<!-- banner-area-end -->

<!-- up-coming-movie-area -->
<section class="ucm-area ucm-bg" style="background-image: url('img/service-bg.jpg')">
    <div class="ucm-bg-shape" style="background-image: url('img/ucm_bg_shape.png')"></div>
    <div class="container">
        <p>Hello, @StringUtilities.CustomToUpper(name)</p>

        <p>Let's add 2 + 2 = @(2 + 2)</p>

        <div>
            <h3>Movie</h3>
            @if (movies == null)
            {
                <div id="preloader">
                    <div id="loading-center">
                        <div id="loading-center-absolute">
                            <img src="img/preloader.svg" alt="">
                        </div>
                    </div>
                </div>
            }
            else
            {
                @foreach (var movie in movies)
                {
                    <p>Title: @((MarkupString)movie.Title)</p>
                    <p>Release Date: <b>@movie.ReleaseDate.ToString("dd MMM yyyy")</b></p>
                }

                @for (int i = 0; i < movies.Count; i++)
                {
                    <div style="background-color: @(i % 2 == 0 ? "blue" : "red")">
                        <p>@(i + 1) Title: <b>@movies[i].Title</b></p>
                        <p>Release Date: <b>@movies[i].ReleaseDate.ToString("dd MMM yyyy")</b></p>
                    </div>
                }
            }

            <ConsoleButton />
        </div>
    </div>
</section>
<!-- up-coming-movie-area-end -->

@code {
    string name = "Eugene";

    List<Movie> movies;

    protected async override Task OnInitializedAsync()
    {
        await Task.Delay(3000);
        movies = new List<Movie>()
        {
            new Movie() {Title = "<b>Spider-Man: Far From Home</b>", ReleaseDate = new DateTime(2023, 12, 11)},
            new Movie() {Title = "<i>Moana</i>", ReleaseDate = new DateTime(2023, 12, 23)},
            new Movie() {Title = "Inception", ReleaseDate = new DateTime(2013, 7, 16)}
        };
    }

    Movie spiderman = new Movie()
    {
        Title = "Spider-Man: Far From Home",
        ReleaseDate = new DateTime(2023, 12, 11)
    };
}